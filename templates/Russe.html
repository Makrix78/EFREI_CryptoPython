<!DOCTYPE html>
<html>
<head>
    <script>
        let balles = 0; // Nombre de balles placées
        let gains = 0; // Variable pour stocker les gains
        let chambresRouges = []; // Liste des chambres rouges sélectionnées

        function lancer() {
            // Vérifier qu'au moins une balle a été placée
            if (balles === 0) {
                alert("Vous devez placer au moins une balle dans le barillet !");
                return;
            }

            // Générer un numéro aléatoire entre 1 et 6 pour tirer une chambre
            const chambreTiree = Math.floor(Math.random() * 6) + 1;
            alert(`Vous avez tiré sur la chambre numéro ${chambreTiree}`);

            // Vérifier la couleur de la chambre tirée
            const chambreElement = document.getElementById(`Br${chambreTiree}`);
            const couleur = chambreElement.style.fill; // Utiliser style.fill pour accéder à la couleur

            if (couleur === "blue") {
                alert("Vous avez perdu ! La pastille bleue a été tirée sur une chambre rouge.");
                balles = 0; // Réinitialisation des balles
                gains = 0; // Réinitialisation des gains
            } else if (couleur === "gray") {
                // Calcul des gains en fonction du nombre de balles
                let gain = 0;
                if (balles === 1) {
                    gain = 10000;
                } else if (balles === 2) {
                    gain = 100000;
                } else if (balles === 3) {
                    gain = 1000000;
                }
                gains += gain;
                alert(`Vous avez gagné ${gain}€. Total des gains : ${gains}€`);
            }
        }

        function chambre(numero) {
            // Si on a déjà sélectionné 3 balles, on ne peut pas en ajouter d'autres
            if (balles >= 3) {
                alert("Vous ne pouvez pas sélectionner plus de 3 chambres !");
                return;
            }

            // Afficher le numéro de la chambre cliquée
            alert(`Vous avez cliqué sur la chambre numéro ${numero}`);
            
            // Changer la couleur de la chambre cliquée en rouge
            const chambre = document.getElementById(`Br${numero}`);
            chambre.style.fill = "red";
            
            // Ajouter cette chambre à la liste des chambres rouges sélectionnées
            chambresRouges.push(numero);
            
            // En même temps que la chambre est rouge, on la remplace par bleu si elle a été sélectionnée
            const chambreBleueIndex = chambresRouges[Math.floor(Math.random() * chambresRouges.length)];
            document.getElementById(`Br${chambreBleueIndex}`).style.fill = "blue"; // Remplacer par bleu
            
            // Incrémenter le nombre de balles placées
            balles++;
        }
    </script>
</head>
<body>
    <h1>Roulette Russe</h1>

    <svg width="200" height="200" style="background-color: antiquewhite;">
        <circle cx="100" cy="100" r="95" stroke="black" stroke-width="3" fill="none"></circle>
        <circle id="Br1" cx="100" cy="40" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(1)"></circle>
        <circle id="Br2" cx="150" cy="70" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(2)"></circle>
        <circle id="Br3" cx="50" cy="70" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(3)"></circle>
        <circle id="Br4" cx="50" cy="130" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(4)"></circle>
        <circle id="Br5" cx="150" cy="130" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(5)"></circle>
        <circle id="Br6" cx="100" cy="160" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(6)"></circle>
        <circle cx="100" cy="100" r="10" stroke="black" stroke-width="3" fill="black"></circle>
    </svg>

    <button onclick="lancer()">Jouer</button>
</body>
</html>
