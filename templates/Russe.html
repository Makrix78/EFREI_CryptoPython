<!DOCTYPE html>
<html>
<head>
    <script>
        let balles = 0; // Nombre de balles placées
        let gains = 0; // Variable pour stocker les gains

        function lancer() {
            // Vérifier qu'au moins une balle a été placée
            if (balles === 0) {
                alert("Vous devez placer au moins une balle dans le barillet !");
                return;
            }

            // Générer un numéro aléatoire entre 1 et 6 pour tirer une chambre
            const chambreTiree = Math.floor(Math.random() * 6) + 1;
            alert(`Vous avez tiré sur la chambre numéro ${chambreTiree}`);
            
            // Remplacer une chambre rouge par une chambre bleue
            let chambresRouges = [];
            for (let i = 1; i <= 6; i++) {
                const chambre = document.getElementById(`Br${i}`);
                if (chambre.style.fill === "red") {
                    chambresRouges.push(i); // Ajouter la chambre rouge à la liste
                }
            }

            if (chambresRouges.length > 0) {
                // Choisir une chambre rouge au hasard pour la remplacer par du bleu
                const chambreBleueIndex = chambresRouges[Math.floor(Math.random() * chambresRouges.length)];
                document.getElementById(`Br${chambreBleueIndex}`).style.fill = "blue"; // Remplacer par bleu
            } else {
                alert("Aucune chambre rouge à remplacer !");
            }

            // Vérifier la couleur de la chambre tirée
            const chambreElement = document.getElementById(`Br${chambreTiree}`);
            const couleur = chambreElement.style.fill; // Utiliser style.fill pour accéder à la couleur

            if (couleur === "red") {
                // Perdu si la chambre tirée est rouge
                alert("Vous avez perdu !");
                // Réinitialisation des balles et gains
                balles = 0;
                gains = 0;
            } else {
                // Calcul des gains en fonction du nombre de balles
                let gain = 0;
                if (balles === 1) {
                    gain = 10000;
                } else if (balles === 2) {
                    gain = 100000;
                } else if (balles === 3) {
                    gain = 1000000;
                }
                gains += gain;
                alert(`Vous avez gagné ${gain}€. Total des gains : ${gains}€`);
            }
        }

        function chambre(numero) {
            // Si on a déjà sélectionné 3 balles, on ne peut pas en ajouter d'autres
            if (balles >= 3) {
                alert("Vous ne pouvez pas sélectionner plus de 3 chambres !");
                return;
            }

            // Afficher le numéro de la chambre cliquée
            alert(`Vous avez cliqué sur la chambre numéro ${numero}`);
            
            // Changer la couleur de la chambre cliquée en rouge
            const chambre = document.getElementById(`Br${numero}`);
            chambre.style.fill = "red";
            
            // Incrémenter le nombre de balles placées
            balles++;
        }
    </script>
</head>
<body>
    <h1>Roulette Russe</h1>

    <svg width="200" height="200" style="background-color: antiquewhite;">
        <circle cx="100" cy="100" r="95" stroke="black" stroke-width="3" fill="none"></circle>
        <circle id="Br1" cx="100" cy="40" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(1)"></circle>
        <circle id="Br2" cx="150" cy="70" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(2)"></circle>
        <circle id="Br3" cx="50" cy="70" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(3)"></circle>
        <circle id="Br4" cx="50" cy="130" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(4)"></circle>
        <circle id="Br5" cx="150" cy="130" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(5)"></circle>
        <circle id="Br6" cx="100" cy="160" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(6)"></circle>
        <circle cx="100" cy="100" r="10" stroke="black" stroke-width="3" fill="black"></circle>
    </svg>

    <button onclick="lancer()">Jouer</button>
</body>
</html>
